---
title: 'Текущий курс'
description: 'Получение актуального зафиксированного курса'
api: 'GET https://loveandpay.io/api/v2/rates'
---

Возвращает актуальный зафиксированный курс для вашего аккаунта.

## Заголовки

<ParamField header="x-api-key" type="string" required>
  Ваш API ключ
</ParamField>

<ParamField header="x-timestamp" type="string" required>
  Unix timestamp в миллисекундах
</ParamField>

<ParamField header="x-signature" type="string" required>
  HMAC-SHA256 подпись
</ParamField>

## Query параметры

<ParamField query="base" type="string" default="USDT">
  Базовая валюта
</ParamField>

<ParamField query="quote" type="string" default="RUB">
  Котируемая валюта
</ParamField>

<ParamField query="date" type="string">
  Дата для получения курса (формат: `YYYY-MM-DD`). По умолчанию — сегодня
</ParamField>

<ResponseExample>
```json 200
{
  "success": true,
  "rate": {
    "id": "550e8400-e29b-41d4-a716-446655440000",
    "baseCurrency": "USDT",
    "quoteCurrency": "RUB",
    "rate": 92.50,
    "validFrom": "2026-01-25T00:00:00.000Z",
    "validTo": null,
    "fixedAt": "2026-01-25T10:30:00.000Z"
  },
  "formatted": {
    "pair": "USDT/RUB",
    "value": "1 USDT = 92,50 RUB"
  },
  "requestId": "req_abc123"
}
```

```json 404
{
  "success": false,
  "error": "No fixed rate found for USDT/RUB",
  "requestId": "req_abc123"
}
```
</ResponseExample>

<RequestExample>
```bash cURL
TIMESTAMP=$(date +%s%3N)
BODY_HASH=$(echo -n "" | sha256sum | cut -d' ' -f1)
MESSAGE="GET/api/v2/rates${TIMESTAMP}${BODY_HASH}"
SIGNATURE=$(echo -n "$MESSAGE" | openssl dgst -sha256 -hmac "sk_live_xxx" | cut -d' ' -f2)

curl -X GET "https://loveandpay.io/api/v2/rates?base=USDT&quote=RUB" \
  -H "x-api-key: pk_live_xxx" \
  -H "x-timestamp: ${TIMESTAMP}" \
  -H "x-signature: ${SIGNATURE}"
```

```javascript JavaScript
const crypto = require('crypto');

const API_KEY = 'pk_live_xxx';
const SECRET_KEY = 'sk_live_xxx';

async function getCurrentRate(base = 'USDT', quote = 'RUB') {
  const timestamp = Date.now().toString();
  const method = 'GET';
  const path = '/api/v2/rates';

  const bodyHash = crypto.createHash('sha256').update('').digest('hex');
  const message = `${method}${path}${timestamp}${bodyHash}`;
  const signature = crypto.createHmac('sha256', SECRET_KEY).update(message).digest('hex');

  const response = await fetch(`https://loveandpay.io${path}?base=${base}&quote=${quote}`, {
    method,
    headers: {
      'x-api-key': API_KEY,
      'x-timestamp': timestamp,
      'x-signature': signature
    }
  });

  const data = await response.json();

  if (data.success) {
    console.log(`Курс: 1 ${base} = ${data.rate.rate} ${quote}`);
    return data.rate;
  }
}

getCurrentRate('USDT', 'RUB');
```

```python Python
import hashlib
import hmac
import time
import requests

API_KEY = 'pk_live_xxx'
SECRET_KEY = 'sk_live_xxx'

def get_current_rate(base='USDT', quote='RUB'):
    timestamp = str(int(time.time() * 1000))
    method = 'GET'
    path = '/api/v2/rates'

    body_hash = hashlib.sha256(''.encode()).hexdigest()
    message = f"{method}{path}{timestamp}{body_hash}"
    signature = hmac.new(SECRET_KEY.encode(), message.encode(), hashlib.sha256).hexdigest()

    response = requests.get(
        f'https://loveandpay.io{path}',
        params={'base': base, 'quote': quote},
        headers={
            'x-api-key': API_KEY,
            'x-timestamp': timestamp,
            'x-signature': signature
        }
    )

    data = response.json()

    if data.get('success'):
        rate = data['rate']['rate']
        print(f'Курс: 1 {base} = {rate} {quote}')
        return data['rate']

get_current_rate('USDT', 'RUB')
```

```php PHP
<?php

$apiKey = 'pk_live_xxx';
$secretKey = 'sk_live_xxx';

function getCurrentRate($base = 'USDT', $quote = 'RUB') {
    global $apiKey, $secretKey;

    $timestamp = (string)(round(microtime(true) * 1000));
    $method = 'GET';
    $path = '/api/v2/rates';

    $bodyHash = hash('sha256', '');
    $message = $method . $path . $timestamp . $bodyHash;
    $signature = hash_hmac('sha256', $message, $secretKey);

    $url = 'https://loveandpay.io' . $path . '?' . http_build_query([
        'base' => $base,
        'quote' => $quote
    ]);

    $ch = curl_init($url);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
    curl_setopt($ch, CURLOPT_HTTPHEADER, [
        'x-api-key: ' . $apiKey,
        'x-timestamp: ' . $timestamp,
        'x-signature: ' . $signature
    ]);

    $response = curl_exec($ch);
    curl_close($ch);

    $data = json_decode($response, true);

    if ($data['success']) {
        echo "Курс: 1 {$base} = {$data['rate']['rate']} {$quote}\n";
        return $data['rate'];
    }

    return null;
}

getCurrentRate('USDT', 'RUB');
```
</RequestExample>

---

## Описание полей ответа

| Поле | Описание |
|------|----------|
| `rate.id` | UUID записи курса |
| `rate.baseCurrency` | Базовая валюта (например, USDT) |
| `rate.quoteCurrency` | Котируемая валюта (например, RUB) |
| `rate.rate` | Значение курса |
| `rate.validFrom` | Начало действия курса |
| `rate.validTo` | Окончание действия (null = бессрочно) |
| `rate.fixedAt` | Дата/время фиксации курса |
| `formatted.pair` | Форматированная пара (USDT/RUB) |
| `formatted.value` | Человекочитаемое значение |
