---
title: 'Список счетов'
description: 'Получение списка всех счетов с пагинацией и фильтрацией'
api: 'GET https://loveandpay.io/api/v1/invoices'
---

## Получение списка счетов

Возвращает список всех счетов с поддержкой пагинации и фильтрации.

### Аутентификация

<ParamField header="x-api-key" type="string" required>
  Ваш API ключ
</ParamField>

### Query параметры

<ParamField query="page" type="number" default="1">
  Номер страницы
</ParamField>

<ParamField query="limit" type="number" default="20">
  Количество записей на странице (максимум 100)
</ParamField>

<ParamField query="status" type="string">
  Фильтр по статусу: `pending`, `paid`, `expired`, `cancelled`
</ParamField>

<ParamField query="from" type="string">
  Начальная дата в формате ISO 8601
</ParamField>

<ParamField query="to" type="string">
  Конечная дата в формате ISO 8601
</ParamField>

<ParamField query="currency" type="string">
  Фильтр по валюте: `USD`, `EUR`, `RUB`, `KZT`
</ParamField>

### Пример запроса

<CodeGroup>

```bash cURL
curl -X GET "https://loveandpay.io/api/v1/invoices?status=paid&limit=10" \
  -H "x-api-key: YOUR_API_KEY"
```

```javascript Node.js
const params = new URLSearchParams({
  status: 'paid',
  limit: '10',
  from: '2024-01-01T00:00:00Z'
});

const response = await fetch(
  `https://loveandpay.io/api/v1/invoices?${params}`,
  {
    headers: {
      'x-api-key': process.env.LOVEANDPAY_API_KEY
    }
  }
);

const data = await response.json();
console.log(data.invoices);
console.log(data.pagination);
```

```python Python
import requests

response = requests.get(
    'https://loveandpay.io/api/v1/invoices',
    headers={'x-api-key': 'YOUR_API_KEY'},
    params={
        'status': 'paid',
        'limit': 10,
        'from': '2024-01-01T00:00:00Z'
    }
)

data = response.json()
print(data['invoices'])
print(data['pagination'])
```

</CodeGroup>

### Пример ответа

<ResponseField name="invoices" type="array">
  Массив счетов
</ResponseField>

<ResponseField name="pagination" type="object">
  Информация о пагинации
  <Expandable title="Поля pagination">
    <ResponseField name="page" type="number">
      Текущая страница
    </ResponseField>
    <ResponseField name="limit" type="number">
      Записей на странице
    </ResponseField>
    <ResponseField name="total" type="number">
      Общее количество записей
    </ResponseField>
    <ResponseField name="totalPages" type="number">
      Общее количество страниц
    </ResponseField>
  </Expandable>
</ResponseField>

```json Успешный ответ (200)
{
  "invoices": [
    {
      "id": "inv_abc123def456",
      "amount": 100.00,
      "currency": "USD",
      "description": "Оплата заказа #12345",
      "status": "paid",
      "paymentUrl": "https://pay.loveandpay.io/inv_abc123def456",
      "metadata": {
        "orderId": "12345"
      },
      "createdAt": "2024-01-15T10:30:00Z",
      "paidAt": "2024-01-15T10:35:00Z"
    },
    {
      "id": "inv_xyz789ghi012",
      "amount": 50.00,
      "currency": "USD",
      "description": "Подписка Pro",
      "status": "paid",
      "paymentUrl": "https://pay.loveandpay.io/inv_xyz789ghi012",
      "metadata": {
        "subscriptionId": "sub_001"
      },
      "createdAt": "2024-01-14T15:00:00Z",
      "paidAt": "2024-01-14T15:05:00Z"
    }
  ],
  "pagination": {
    "page": 1,
    "limit": 10,
    "total": 156,
    "totalPages": 16
  }
}
```

### Ошибки

| Код | Описание |
|-----|----------|
| 400 | Неверные параметры запроса |
| 401 | Неверный API ключ |
